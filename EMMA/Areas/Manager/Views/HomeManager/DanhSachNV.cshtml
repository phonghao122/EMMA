@model PagedList.IPagedList<EMMA.Models.NHANVIEN>
@using PagedList;
@using PagedList.Mvc;

@{
    ViewBag.Title = "DanhSachNV";
    Layout = "~/Views/Shared/_Layout.cshtml";
    EMMA.Models.NHANVIEN nv = (EMMA.Models.NHANVIEN)Session["user"];
}

<body class="horizontal-layout horizontal-menu  navbar-floating footer-static" data-open="hover"
      data-menu="horizontal-menu" data-col="">
    <nav class="header-navbar navbar-expand-lg navbar navbar-fixed align-items-center navbar-shadow navbar-brand-center"
         data-nav="brand-center">
        <div style="margin-top:1px " class="navbar-header d-xl-block d-none">
            <ul class="nav navbar-nav">
                <li class="nav-item">
                    <a class="navbar-brand"
                       href="~/Manager/HomeManager/Index">
                        <h2 class="brand-text mb-0">EMMA</h2>
                    </a>
                </li>
            </ul>
        </div>
        <div class="navbar-container d-flex content">
            <div class="bookmark-wrapper d-flex align-items-center">
                <ul class="nav navbar-nav bookmark-icons">
                    <li class="nav-item d-none d-lg-block">
                        <a class="nav-link" href="app-email.html"
                           data-bs-toggle="tooltip" data-bs-placement="bottom" title="Email">
                            <i class="ficon"
                               data-feather="mail"></i>
                        </a>
                    </li>
                    <li class="nav-item d-none d-lg-block">
                        <a class="nav-link" href="app-chat.html"
                           data-bs-toggle="tooltip" data-bs-placement="bottom" title="Chat">
                            <i class="ficon"
                               data-feather="message-square"></i>
                        </a>
                    </li>
                    <li class="nav-item d-none d-lg-block">
                        <a class="nav-link" href="app-calendar.html"
                           data-bs-toggle="tooltip" data-bs-placement="bottom" title="Calendar">
                            <i class="ficon"
                               data-feather="calendar"></i>
                        </a>
                    </li>
                    <li class="nav-item d-none d-lg-block">
                        <a class="nav-link" href="app-todo.html"
                           data-bs-toggle="tooltip" data-bs-placement="bottom" title="Todo">
                            <i class="ficon"
                               data-feather="check-square"></i>
                        </a>
                    </li>
                </ul>
                <ul class="nav navbar-nav">
                    <li class="nav-item d-none d-lg-block">
                        <a class="nav-link bookmark-star">
                            <i class="ficon text-warning" data-feather="star"></i>
                        </a>

                    </li>
                </ul>
            </div>
            <ul class="nav navbar-nav align-items-center ms-auto">
                <li class="nav-item d-none d-lg-block">
                    <a class="nav-link nav-link-style">
                        <i class="ficon"
                           data-feather="moon"></i>
                    </a>
                </li>
                <li class="nav-item dropdown dropdown-user">
                    <a class="nav-link dropdown-toggle dropdown-user-link"
                       id="dropdown-user" href="#" data-bs-toggle="dropdown" aria-haspopup="true"
                       aria-expanded="false">
                        <div class="user-nav d-sm-flex d-none">
                            <span class="user-name fw-bolder">@nv.HoTenNV</span><span class="user-status">@nv.CHUCVU.TenCV</span>
                        </div><span class="avatar">
                            <img class="round"
                                 src="@nv.Avt" alt="avatar"
                                 height="40" width="40">
                        </span>
                    </a>
                    <div class="dropdown-menu dropdown-menu-end">
                        <a class="dropdown-item" href="~/Login/Logout">
                            <i class="me-50"
                               data-feather="power"></i> Logout
                        </a>
                    </div>
                </li>
            </ul>
        </div>
    </nav>
    <div class="container-fluid">
        <div class="horizontal-menu-wrapper">
            <div style="margin-top:0px" class="header-navbar navbar-expand-sm navbar navbar-horizontal floating-nav avbar-light navbar-shadow menu-border "
                 role="navigation" data-menu="menu-wrapper" data-menu-type="floating-nav">
                <div class="navbar-header">
                </div>
                <div class="shadow-bottom"></div>
                <div class="navbar-container main-menu-content" data-menu="menu-container">
                    <ul class="nav navbar-nav" id="main-menu-navigation" data-menu="menu-navigation">
                        <li data-menu="">
                            <a class="dropdown-item d-flex align-items-center" href="~/Manager/HomeManager/Index" data-bs-toggle="" data-i18n="Dashboards">
                                <span data-i18n="Analytics"><h5>Trang Chủ</h5></span>
                            </a>
                        </li>

                        <li class="dropdown dropdown-submenu" data-menu="dropdown-submenu">
                            <a class="dropdown-item d-flex align-items-center dropdown-toggle"
                               href="#" data-bs-toggle="dropdown" data-i18n="Invoice">
                                <span data-i18n="Invoice"><h5> Nhân Viên</h5></span>
                            </a>
                            <ul class="dropdown-menu" data-bs-popper="none">
                                <li data-menu="">
                                    <a class="dropdown-item d-flex align-items-center" href="~/Manager/HomeManager/DanhSachNV">
                                        <span data-i18n="Analytics"><h5> Danh Sách Nhân Viên</h5></span>
                                    </a>
                                </li>
                                <li data-menu="">
                                    <a class="dropdown-item d-flex align-items-center" href="~/Manager/HomeManager/ThemMoiNV">
                                        <span data-i18n="Analytics"><h5>Thêm Nhân Viên </h5></span>
                                    </a>
                                </li>
                            </ul>
                        </li>

                        <li data-menu="">
                            <a class="dropdown-item d-flex align-items-center" href="~/Manager/HomeManager/DanhSachPB" data-bs-toggle="" data-i18n="Analytics">
                                <span data-i18n="Analytics"><h5>Phòng Ban</h5></span>
                            </a>
                        </li>

                        <li class="dropdown dropdown-submenu" data-menu="dropdown-submenu">
                            <a class="dropdown-item d-flex align-items-center dropdown-toggle"
                               href="#" data-bs-toggle="dropdown" data-i18n="Invoice">
                                <span data-i18n="Invoice"><h5> Lương</h5></span>
                            </a>
                            <ul class="dropdown-menu" data-bs-popper="none">
                                <li data-menu="">
                                    <a class="dropdown-item d-flex align-items-center" href="~/Manager/HomeManager/DsLuong">
                                        <span data-i18n="Analytics"><h5> Danh Sách Lương</h5></span>
                                    </a>
                                </li>
                                <li data-menu="">
                                    <a class="dropdown-item d-flex align-items-center" href="~/Manager/HomeManager/TongHopLuong">
                                        <span data-i18n="Analytics"><h5>Tổng Hợp Lương </h5></span>
                                    </a>
                                </li>
                            </ul>
                        </li>

                        <li class="dropdown dropdown-submenu" data-menu="dropdown-submenu">
                            <a class="dropdown-item d-flex align-items-center dropdown-toggle"
                               href="#" data-bs-toggle="dropdown" data-i18n="Invoice">
                                <span data-i18n="Invoice"><h5> Công</h5></span>
                            </a>
                            <ul class="dropdown-menu" data-bs-popper="none">
                                <li data-menu="">
                                    <a class="dropdown-item d-flex align-items-center" href="~/Manager/HomeManager/TraCuuDsCong">
                                        <span data-i18n="Analytics"><h5> Danh Sách Công</h5></span>
                                    </a>
                                </li>
                                <li data-menu="">
                                    <a class="dropdown-item d-flex align-items-center" href="~/Manager/HomeManager/TongHopCong">
                                        <span data-i18n="Analytics"><h5>Tổng Hợp Công </h5></span>
                                    </a>
                                </li>
                            </ul>
                        </li>

                        <li data-menu="">
                            <a class="dropdown-item d-flex align-items-center" href="~/Manager/HomeManager/DsCV" data-bs-toggle="" data-i18n="Analytics">
                                <span data-i18n="Analytics"><h5> Chức Vụ</h5></span>
                            </a>
                        </li>

                        <li data-menu="">
                            <a class="dropdown-item d-flex align-items-center" href="~/Manager/HomeManager/DsHD" data-bs-toggle="" data-i18n="Analytics">
                                <span data-i18n="Analytics"><h5> Hợp Đồng</h5></span>
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>



    </div>

    <script src="~/public/app-assets/vendors/js/vendors.min.js"></script>
    <script src="~/public/app-assets/vendors/js/ui/jquery.sticky.js"></script>
    <script src="~/public/app-assets/vendors/js/charts/apexcharts.min.js"></script>
    <script src="~/public/app-assets/js/core/app-menu.js"></script>
    <script src="~/public/app-assets/js/core/app.js"></script>
    <script src="~/public/app-assets/js/scripts/pages/dashboard-ecommerce.js"></script>



</body>

<div class="row">
    <div style="margin-top:150px" class="col-12"
        <div class="card">
            <div class="card-heard" style="background-color:aqua">
                <h3 style="margin-top:20px " class="card-title mb-1 text-center">Danh Sách Nhân Viên</h3>
            </div>
            <div class="card-search">
                @using (Html.BeginForm("DanhSachNV", "HomeManager"))
                {
                    @Html.AntiForgeryToken()
                    <div class="row">
                        <div class="col-md-8">
                            <div class="search-input">
                                <input class="form-control input" name="tuKhoa" type="text" placeholder="Tìm Nhân Viên..."
                                       tabindex="-1" data-search="search">
                                <ul class="search-list search-list-main"></ul>
                            </div>
                        </div>
                        <div class="col-md-1">
                            <button type="submit" class="btn btn-warning"> <i data-feather="search"></i> </button>
                        </div>

                        <div class="col-md-1">
                        </div>
                    </div>
                }
            </div>
            <table class="table table-bordered">
                <thead>
                    @*<th class="text-center">STT</th>*@
                <th style="width:90px" class="text-center text-nowrap">Avata</th>
                <th class="text-center text-nowrap">Họ Và Tên</th>
                <th style="width:10px" class="text-center text-nowrap">Giới Tính</th>
                <th style="width:15px" class="text-center text-nowrap">Số Điện Thoại</th>
                <th style="width:300px" class="text-center text-nowrap">Email</th>
                <th class="text-center text-nowrap">Chức Vụ</th>
                <th class="text-center text-nowrap">Phòng Ban</th>
                <th style="width:100px" class="text-center text-nowrap">Acction</th>
                </thead>
                <tbody>
                    @foreach (var item in Model)
                    {
                        <tr>
                            <td>
                                <span class="avatar">
                                    <img class="round"
                                         src="@item.Avt" alt="avatar"
                                         height="70" width="70">
                                </span>
                                @*<img src="@item.Avt" style="width:100px; height:100px" />*@
                            </td>
                            <td class="text-center text-nowrap">
                                @Html.DisplayFor(modelItem => item.HoTenNV)
                            </td>
                            <td class="text-center text-nowrap">
                                @Html.DisplayFor(modelItem => item.GioiTinh)
                            </td>
                            <td class="text-center text-nowrap">
                                @Html.DisplayFor(modelItem => item.SDT)
                            </td>
                            <td class="text-center text-nowrap">
                                @Html.DisplayFor(modelItem => item.Email)
                            </td>
                            <td class="text-center text-nowrap">
                                @Html.DisplayFor(modelItem => item.CHUCVU.TenCV)
                            </td>
                            <td class="text-center text-nowrap">
                                @Html.DisplayFor(modelItem => item.PHONGBAN.TenPB)
                            </td>
                            <td class="text-center text-nowrap">

                                <button style="width:90px" class="btn btn-success text-center">  @Html.ActionLink("Edit", "CapNhatNV", new { id = item.MaNV })  </button>
                                <button style="width:90px" class="btn btn-info text-center">  @Html.ActionLink("Details", "ChiTietNV", new { id = item.MaNV }) </button>
                                <button style="width:90px" class="btn btn-warning text-center">  @Html.ActionLink("Delete", "XoaNV", new { id = item.MaNV }) </button>

                            </td>
                        </tr>
                    }
                </tbody>
            </table>
            <div class="card-footer">
                <div class="text-center">
                    @Html.PagedListPager(Model, page => Url.Action("DanhSachNV", new { page, currentFilter = ViewBag.currentFilter }))
                </div>
                <div>
                    Trang @(Model.PageCount < Model.PageNumber ? 0 : Model.PageNumber) of @Model.PageCount
                </div>
            </div>
        </div>      
   </div>
    

